name: 'Detect OS'
description: 'Determines wether the current runner is OSx or *nix'

runs:
  using: "composite"
  steps:
    - name: Detect OS
      id: detectOs
      run: |
        unameS="$(uname -s)"
        case "${unameS}" in
          Linux*)     machine=Linux;;
          Darwin*)    machine=Mac;;
          *)          machine="UNKNOWN:${unameS}"
        esac
        unameM="$(uname -m)"
        echo "OS_IN_USE: $machine"
        echo "OS_IN_USE=$machine" >> $GITHUB_ENV
        echo "ARCH_IN_USE: $unameM"
        echo "ARCH_IN_USE=$unameM" >> $GITHUB_ENV
      shell: bash
