name: 'Run gradle check'
description: 'Run the "check" command for a Gradle project'

inputs:
  actions-role-arn:
    description: "AWS role ARN to assume"
    required: true

runs:
  using: "composite"
  steps:
    - name: Configure AWS credentials
      uses: aws-actions/configure-aws-credentials@v3
      with:
        aws-region: eu-west-2
        role-to-assume: ${{ inputs.actions-role-arn }}
        role-duration-seconds: 1200
        role-skip-session-tagging: true

#    - name: Retrieve Google Play Service ENV from AWS SecretManager
#      id: googlePlayServiceSecrets
#      uses: say8425/aws-secrets-manager-actions@v2
#      with:
#        AWS_DEFAULT_REGION: "eu-west-2"
#        SECRET_NAME: "di-mobile-android-onelogin-app/github-actions-env"
